---
title: "[CS][네트워크] OSI 7계층과 TCP,IP 4계층"
excerpt: ""

categories:
  - CS
tags:
  - [네트워크, CS, 스터디]
# toc(Table of Contents.) : true시 포스트의 목차가 보임.
toc: true
# true로 해주면 목차가 스크롤을 따라 움직이게 됨.
toc_sticky: true

# date : 글 처음 작성일
date: 2024-07-07
# last_modified_at : 글 마지막 수정일
last_modified_at: 2024-07-09
---

# [네트워크] OSI 7계층과 TCP/IP 4계층

## 네트워크가 생겨나게 된 계기

네트워크는 데이터를 주고 받기 위해 생김

자신의 컴퓨터에만 존재하던 데이터를 다른 컴퓨터와 교환하기 위해 ‘네트워크’가 되고, 네트워크 집합들 간의 연결이 ‘인터넷’이 되었음

# OSI 7계층이란 ?

```
1984년 국제표준화기구(ISO)에서 개발한 모델로써,네트워크 프로토콜 디자인과 통신 과정을 7개의 계층으로구분하여 만든 "표준 규격"이다.
```

### 계층을 나눈 이유

```
계층 구조를 사용하는 목적은 분할 정복(Divide and Conquer) 때문이다.
쉽게 말하자면 어떠한 복잡한 문제를 해결하고자 할 때,나누어 생각하면 쉽게 해결할 수 있다는 취지인 것이다.
하지만, 직접 적용해보니 OSI 7계층보다 TCP/IP 4계층 구조로 나누는 것이 네트워크 구조를 보다 간결하고 현실적으로 표현할 수 있어서 TCP/IP 모델을 주로 사용함
```

## OSI 7계층의 각 계층과 그 역할

![alt text](/assets/img/1.png)

### **Physical Layer (1계층) (물리 계층)**

![alt text](/assets/img/2.png)

- 이 계층에서는 주로 전기적, 기계적, 기능적인 특성을 이용해서 통신 케이블로 데이터를 전송
- 데이터를 전송하기 위한 물리적인 매체(유선, 무선 등)를 통해 비트 스트림을 전송
- 이 계층에서는 단지 데이터를 송수신만 하고, 데이터가 무엇인지, 어떤 에러가 있는지 등에는 전혀 신경 쓰지 않는다**. 즉, 데이터를 전송하는 역할만 진행**
- 전송 단위는 **비트**이며 0과 1로 표현. 즉, 전기적 신호 on, off로 나타냄
  - bps(bit per second) : 1초 동안 영상을 구성하는 bit 수
  - bps가 높으면 화질이 좋아짐
- 예시
  - 리피터 : 전기 신호를 복원하고 증폭하는 기능을 가진 중계 장비
  - 케이블 : 전기 신호로 변경된 데이터를 전달하기 위한 장치
  - 허브 : 여러 대의 컴퓨터를 서로 연결하는 장치

![alt text](/assets/img/3.png)

![alt text](/assets/img/4.png)

### **Data Link Layer (2계층) (데이터 링크 계층)**

- 물리 계층으로 송수신 되는 정보를 관리하여 안전하게 전달되도록 도와주는 역할
- Mac 주소를 통해 통신
- 물리적인 매체를 통해 안정적인 데이터 전송을 보장하기 위해 **오류 검출 및 수정을 수행**하며, 프레임 단위로 데이터를 관리합니다.
  - 오류 검출
    - 물리적인 매체를 통해 데이터를 전송할 때, 노이즈나 왜곡으로 인해 데이터가 손상될 수 있음.
    - 일반적인 검출 방식으로 ‘**순한 중복 검사(CRC)**’가 있는데, 송신 측에서는 원 데이터에 일정한 CRC 비트 값을 추가하여 송신 데이터를 생성하고, 수신 측에서는 받은 데이터를 동일한 알고리즘으로 계산하여 송신 측과 일치하는지 검사
  - 전송 단위 : 프레임
    - fps(frames per second) : 1초 동안 재생되는 이미지의 수
    - fps가 높으면 영상이 부드러워 짐
- 예시
  - 브리지 : MAC 주소를 기반으로 데이터를 필터링하고 목적지에 맞게 전송하는 네트워크 장비
  - 스위치 : 목적지 MAC 주소를 가진 장비가 연결된 포트로만 프레임을 전송하는 장비
    스위치와 브리지의 차이점
  - 처리방식
    - 스위치 : 하드웨어
    - 브리지 : 소프트웨어
    - 따라서 스위치가 훨씬 빠름.
  - 처리 속도
    - 스위치 : 서로 다른 속도를 연결해 줄 수 있는 기능이 있음
    - 브리지 : 모두 같은 속도를 지원
  - 포트 수
    - 스위치는 포트 수가 많지만, 브리지는 10개도 안됨
  - forward 방식
    - **스위치 : cut-throught or store-and-forward 방식을 사용**
    - **브리지 : 오로지 store-and-forward 방식을 사용**
  - 결론 : 스위치의 기능이 더욱 많아서 스위치를 사용한다.

![alt text](/assets/img/5.png)

![alt text](/assets/img/6.png)

### **Network Layer (3계층) (네트워크 계층)**

- 라우터, IP
- **데이터를 목적지까지 가장 안전하고 빠르게 전달하는 기능 담당**
- 라우팅 기능을 수행하여 최적의 경로를 선택
- 경로를 선택하여 IP 주소를 지정하고, 해당 **경로에 따라 패킷을 전달**
- 전송 단위 : 데이터 그램(패킷)

![alt text](/assets/img/7.png)

### **Transport Layer (4계층) (전송 계층)**

- 데이터 전송의 신뢰성과 흐름 제어를 관리합니다. 데이터를 세그먼트 단위로 나누고, 순서를 관리하여 목적지에 정확하게 전달
- 각 세그먼트 헤더에는 송신지(Source)와 목적지(Destination) 포트 번호, 일련번호, ACK 번호(수신 확인 번호), 플래그 등의 제어 정보가 포함되어 있음
- TCP와 UDP 프로토콜을 통해 통신을 활성화
- 포트를 열어두고, 프로그램들이 전송을 할 수 있도록 제공
- 전송 단위 : TCP, UDP
  - TCP : 신뢰성, 연결 지향적
  - UDP : 비신뢰성, 비연결성, 실시간
    ![alt text](/assets/img/8.png)

TCP는 전송 후 잘 받았다는 응답 패킷(ACK)를 받지만, UDP는 송신 쪽은 보내기만 하고, 수신 쪽은 받기만 함

### **Session Layer (5계층) (세션 계층)**

- **데이터 통신을 위한 논리적 연결을 담당**
  - 가상의 tcp ip 세션을 열고 닫음
  - UDP 통신에선 5계층을 거치지 않음
- 데이터 교환의 세션을 설정, 유지, 종료
- 다수의 통신 장치 간의 대화를 관리하고 동기화를 제공
- API, Socket, Port, SSH

### **Presentation Layer (6계층) (표현 계층)**

- 데이터 표현에 대한 독립성을 제공하고 암호화하는 역할을 담당
- 인코딩, 압축, 암호화 등을 하여 응용 계층이 이해할 수 있는 형태로 데이터를 제공
- JPEG, MPEG 등

### **Application Layer (7계층) (응용 계층)**:

- 사용자와 직접적으로 상호 작용하는 계층
- 사용자 인터페이스, 전자우편, 데이터 베이스 관리 등의 서비스를 제공
- HTTP, FTP, DNS

## 현재는 OSI 7 계층 모델이 아닌 TCP/IP 4 계층 모델을 따른다

TCP/IP 모델은 OSI 모델보다 더 간소화된 구조를 제공하며, 실제 인터넷과 네트워크 통신에서 사용됨

![alt text](/assets/img/9.png)

# **TCP/IP 4 계층**

### 네트워크 연결 계층(물리 + 데이터링크 계층)

- 데이터 단위 : Frame
- 전송 주소 : MAC
- 특징
  - 물리적으로 데이터가 네트워크를 통해 어떻게 전송되는지 정의
  - 논리 주소(IP)가 아닌 물리 주소(MAC)를 참조해 장비간 전송
  - 에러 검출, 패킷의 프레임화 담당
  - 프레임 단위의 데이터 구성
    예시 : 이더넷(LAN 구축에 사용되는 네트워킹 프로토콜)

### 인터넷 계층(네트워크 계층)

- 데이터 단위 : 패킷
- 전송 주소 : IP
- 특징
  - 네트워크 상 최종 목적지까지 정확하게 연결되도록 연결성을 제공
  - 출발지와 목적지의 논리적 주소가 담겨있는 IP Datagram 이라는 패킷으로 데이터 변경
  - 라우팅 기능을 처리 : 경로 설정
  - 최종 목적지까지 정확하게 연결되도록 연결성 제공

예시 : IP, ARP, ICMP, RARP, OSPF

### 전송 계층(전송 계층)

- 데이터 단위 : 세그먼트
- 전송 주소 : Port
- 특징
  - 통신 노드 간 연결 제어 및 자료 송수신 담당
  - 실질적인 데이터 전송을 위한 데이터를 일정 크기로 나눈다.
    - 발신, 수신, 포트 주소, 오류 검출 코드가 붙게 된다

예시 : TCP, UDP

### 응용 계층(세션 + 표현 + 응용 계층)

- 데이터 단위 : Data/Message
- 특징
  - 사용자가 소프트웨어 Application과 소통 할 수 있게 해준다
  - 응용 프로그램들이 데이터를 교환하기 위해 사용되는 프로토콜
  - 사용자 응용 프로그램 인터페이스를 담당

예시 : FTP, HTTP, SSH, DNS
